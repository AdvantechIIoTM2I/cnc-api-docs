# 3.1.3 MServoTempTrend

## Information
* Get factory's Machine temperature information
* For M2I CNC domain, you can query the following tags in this API:
    * ServTemp0 / ServTemp1 / ... / ServTemp11
* Dependent on WISE-PaaS APM (need to create Group first in APM).
* After creating the Group tree in APM, input the Group path and device ID that you want to query.
* This API will return child nodes' infomation under the input parent node path.

## Format

* ### Request

  ```
  fns.MServoTempTrend("path", "device_id", "$from", "$to")
  ```

  | Variable | Data Type | Description | Example |
  | :--- | :--- | :--- | :---|
  | path | String | WISE-PaaS APM's Group tree path | /Advantech |
  | device_id | String | String of device id \(one or multiple devices\) | {Dev-01} or {Dev-01,Dev-02} |
  | $from | ISODate String | Grafana Start time variable or ISO Date String | $from or "2018-10-01T00:00:00:000Z" |
  | $to | ISODate String | Grafana End time variable or ISO Date String | $to or "2018-10-10T00:00:00:000Z" |

* ### Response Tags

  | Tag Name | Data Type | Description | Example |
  | :--- | :--- | :--- | :--- |
  | TempName | String | Query tag name | "SpinTmp1" |
  | TempValue | Int | Temperature value or Ov value | 75 |
  | Ts | Datetime | Timestamp of the data | 1539679347445 |    

  
* ### Example
    1. Display the Servo temperature trend 
        - Query   
        ``` sql
        select TempName as metric, TempValue, Ts from fns.MServoTempTrend("$Group","$Machine", "$from", "$to" )  
        ```
        - Return Data Format   
            * timeseries
        - Query Time Type   
            * utc
        - Panel Type   
            * Datatable Panel
        - Panel Screenshot      
            ![](/images/3.1.3-MservoTempTrend.jpg)

        - Return Value Example    
            ``` json
            [
              {
                "datapoints": [
                  [
                    28, 
                    1542585172504
                  ], 
                  [
                    28, 
                    1542585212568
                  ], 
                  [
                    28, 
                    1542585242617
                  ], 
                  [
                    24, 
                    1542586056592
                  ], 
                  [
                    24, 
                    1542586076624
                  ], 
                  [
                    24, 
                    1542587932366
                  ], 
                  [
                    24, 
                    1542588092639
                  ], 
                  [
                    24, 
                    1542589455264
                  ], 
                  [
                    24, 
                    1542589465296
                  ], 
                  [
                    24, 
                    1542590196751
                  ], 
                  [
                    24, 
                    1542590206767
                  ], 
                  [
                    24, 
                    1542591759761
                  ], 
                  [
                    24, 
                    1542591920034
                  ], 
                  [
                    24, 
                    1542594026975
                  ], 
                  [
                    24, 
                    1542594359131
                  ], 
                  [
                    24, 
                    1542595463166
                  ], 
                  [
                    24, 
                    1542595833761
                  ], 
                  [
                    24, 
                    1542595903874
                  ], 
                  [
                    24, 
                    1542595913890
                  ], 
                  [
                    24, 
                    1542596216044
                  ], 
                  [
                    24, 
                    1542596326221
                  ], 
                  [
                    24, 
                    1542596386318
                  ], 
                  [
                    24, 
                    1542596396334
                  ], 
                  [
                    24, 
                    1542596446414
                  ], 
                  [
                    24, 
                    1542596656752
                  ], 
                  [
                    24, 
                    1542596666784
                  ], 
                  [
                    24, 
                    1542596676800
                  ], 
                  [
                    24, 
                    1542597609718
                  ], 
                  [
                    24, 
                    1542598532010
                  ], 
                  [
                    24, 
                    1542598552042
                  ], 
                  [
                    24, 
                    1542598622155
                  ], 
                  [
                    24, 
                    1542598662219
                  ], 
                  [
                    24, 
                    1542598712300
                  ], 
                  [
                    24, 
                    1542599784334
                  ], 
                  [
                    24, 
                    1542599804366
                  ], 
                  [
                    24, 
                    1542604872115
                  ], 
                  [
                    24, 
                    1542604882131
                  ], 
                  [
                    24, 
                    1542605934242
                  ], 
                  [
                    24, 
                    1542605944258
                  ], 
                  [
                    24, 
                    1542605954274
                  ], 
                  [
                    24, 
                    1542605964290
                  ], 
                  [
                    28, 
                    1542607096452
                  ], 
                  [
                    28, 
                    1542607336947
                  ], 
                  [
                    28, 
                    1542607346963
                  ], 
                  [
                    28, 
                    1542607366996
                  ], 
                  [
                    28, 
                    1542607467156
                  ], 
                  [
                    28, 
                    1542607657462
                  ], 
                  [
                    24, 
                    1542608638835
                  ], 
                  [
                    24, 
                    1542608769060
                  ], 
                  [
                    28, 
                    1542611853109
                  ], 
                  [
                    28, 
                    1542611873141
                  ], 
                  [
                    28, 
                    1542613215390
                  ], 
                  [
                    28, 
                    1542613285503
                  ]
                ], 
                "target": "ServTemp0"
              }, 
              {
                "datapoints": [
                  [
                    24, 
                    1542585172504
                  ], 
                  [
                    24, 
                    1542585212568
                  ], 
                  [
                    24, 
                    1542585242617
                  ], 
                  [
                    20, 
                    1542586056592
                  ], 
                  [
                    20, 
                    1542586076624
                  ], 
                  [
                    24, 
                    1542587932366
                  ], 
                  [
                    24, 
                    1542588092639
                  ], 
                  [
                    24, 
                    1542589455264
                  ], 
                  [
                    24, 
                    1542589465296
                  ], 
                  [
                    24, 
                    1542590196751
                  ], 
                  [
                    24, 
                    1542590206767
                  ], 
                  [
                    24, 
                    1542591759761
                  ], 
                  [
                    24, 
                    1542591920034
                  ], 
                  [
                    24, 
                    1542594026975
                  ], 
                  [
                    24, 
                    1542594359131
                  ], 
                  [
                    24, 
                    1542595463166
                  ], 
                  [
                    24, 
                    1542595833761
                  ], 
                  [
                    24, 
                    1542595903874
                  ], 
                  [
                    24, 
                    1542595913890
                  ], 
                  [
                    24, 
                    1542596216044
                  ], 
                  [
                    24, 
                    1542596326221
                  ], 
                  [
                    24, 
                    1542596386318
                  ], 
                  [
                    24, 
                    1542596396334
                  ], 
                  [
                    24, 
                    1542596446414
                  ], 
                  [
                    24, 
                    1542596656752
                  ], 
                  [
                    24, 
                    1542596666784
                  ], 
                  [
                    24, 
                    1542596676800
                  ], 
                  [
                    24, 
                    1542597609718
                  ], 
                  [
                    24, 
                    1542598532010
                  ], 
                  [
                    24, 
                    1542598552042
                  ], 
                  [
                    24, 
                    1542598622155
                  ], 
                  [
                    24, 
                    1542598662219
                  ], 
                  [
                    24, 
                    1542598712300
                  ], 
                  [
                    24, 
                    1542599784334
                  ], 
                  [
                    24, 
                    1542599804366
                  ], 
                  [
                    24, 
                    1542604872115
                  ], 
                  [
                    24, 
                    1542604882131
                  ], 
                  [
                    24, 
                    1542605934242
                  ], 
                  [
                    24, 
                    1542605944258
                  ], 
                  [
                    24, 
                    1542605954274
                  ], 
                  [
                    24, 
                    1542605964290
                  ], 
                  [
                    24, 
                    1542607096452
                  ], 
                  [
                    24, 
                    1542607336947
                  ], 
                  [
                    24, 
                    1542607346963
                  ], 
                  [
                    24, 
                    1542607366996
                  ], 
                  [
                    24, 
                    1542607467156
                  ], 
                  [
                    24, 
                    1542607657462
                  ], 
                  [
                    24, 
                    1542608638835
                  ], 
                  [
                    24, 
                    1542608769060
                  ], 
                  [
                    24, 
                    1542611853109
                  ], 
                  [
                    24, 
                    1542611873141
                  ], 
                  [
                    24, 
                    1542613215390
                  ], 
                  [
                    24, 
                    1542613285503
                  ]
                ], 
                "target": "ServTemp1"
              }, 
              {
                "datapoints": [
                  [
                    32, 
                    1542585172504
                  ], 
                  [
                    32, 
                    1542585212568
                  ], 
                  [
                    32, 
                    1542585242617
                  ], 
                  [
                    24, 
                    1542586056592
                  ], 
                  [
                    24, 
                    1542586076624
                  ], 
                  [
                    28, 
                    1542587932366
                  ], 
                  [
                    28, 
                    1542588092639
                  ], 
                  [
                    28, 
                    1542589455264
                  ], 
                  [
                    28, 
                    1542589465296
                  ], 
                  [
                    28, 
                    1542590196751
                  ], 
                  [
                    28, 
                    1542590206767
                  ], 
                  [
                    28, 
                    1542591759761
                  ], 
                  [
                    28, 
                    1542591920034
                  ], 
                  [
                    28, 
                    1542594026975
                  ], 
                  [
                    28, 
                    1542594359131
                  ], 
                  [
                    28, 
                    1542595463166
                  ], 
                  [
                    28, 
                    1542595833761
                  ], 
                  [
                    28, 
                    1542595903874
                  ], 
                  [
                    28, 
                    1542595913890
                  ], 
                  [
                    32, 
                    1542596216044
                  ], 
                  [
                    32, 
                    1542596326221
                  ], 
                  [
                    32, 
                    1542596386318
                  ], 
                  [
                    32, 
                    1542596396334
                  ], 
                  [
                    32, 
                    1542596446414
                  ], 
                  [
                    32, 
                    1542596656752
                  ], 
                  [
                    32, 
                    1542596666784
                  ], 
                  [
                    32, 
                    1542596676800
                  ], 
                  [
                    32, 
                    1542597609718
                  ], 
                  [
                    32, 
                    1542598532010
                  ], 
                  [
                    32, 
                    1542598552042
                  ], 
                  [
                    32, 
                    1542598622155
                  ], 
                  [
                    32, 
                    1542598662219
                  ], 
                  [
                    32, 
                    1542598712300
                  ], 
                  [
                    32, 
                    1542599784334
                  ], 
                  [
                    32, 
                    1542599804366
                  ], 
                  [
                    36, 
                    1542604872115
                  ], 
                  [
                    36, 
                    1542604882131
                  ], 
                  [
                    32, 
                    1542605934242
                  ], 
                  [
                    32, 
                    1542605944258
                  ], 
                  [
                    32, 
                    1542605954274
                  ], 
                  [
                    32, 
                    1542605964290
                  ], 
                  [
                    32, 
                    1542607096452
                  ], 
                  [
                    32, 
                    1542607336947
                  ], 
                  [
                    32, 
                    1542607346963
                  ], 
                  [
                    32, 
                    1542607366996
                  ], 
                  [
                    32, 
                    1542607467156
                  ], 
                  [
                    32, 
                    1542607657462
                  ], 
                  [
                    32, 
                    1542608638835
                  ], 
                  [
                    32, 
                    1542608769060
                  ], 
                  [
                    28, 
                    1542611853109
                  ], 
                  [
                    28, 
                    1542611873141
                  ], 
                  [
                    28, 
                    1542613215390
                  ], 
                  [
                    28, 
                    1542613285503
                  ]
                ], 
                "target": "ServTemp2"
              }
            ]
            ```
